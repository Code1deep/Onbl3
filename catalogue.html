<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Catalogue - Magasin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="cart.js"></script>
  <style>
    .product-card {
      min-height: 200px;
    }
  </style>
</head>
<body class="container py-4">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <a class="navbar-brand" href="#">üõçÔ∏è Mon Magasin</a>
    <div class="ms-auto">
      <a href="facture.html" class="btn btn-primary">
        Voir Panier (<span id="cart-count">0</span>)
      </a>
    </div>
  </nav>

  <!-- Produits -->
  <div class="row" id="product-list">
    <!-- Produit Exemple -->
    <div class="col-md-4 mb-4">
      <div class="card product-card">
        <div class="card-body">
          <h5 class="card-title">Produit A</h5>
          <p>Prix: 10 $</p>
          <p id="stock-1">Stock restant: ...</p>
          <button class="btn btn-success" onclick="addToCart({id:1, name:'Produit A', price:10, quantity:1})">
            Ajouter au panier
          </button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card product-card">
        <div class="card-body">
          <h5 class="card-title">Produit B</h5>
          <p>Prix: 15 $</p>
          <p id="stock-2">Stock restant: ...</p>
          <button class="btn btn-success" onclick="addToCart({id:2, name:'Produit B', price:15, quantity:1})">
            Ajouter au panier
          </button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card product-card">
        <div class="card-body">
          <h5 class="card-title">Produit C</h5>
          <p>Prix: 20 $</p>
          <p id="stock-3">Stock restant: ...</p>
          <button class="btn btn-success" onclick="addToCart({id:3, name:'Produit C', price:20, quantity:1})">
            Ajouter au panier
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination / navigation -->
  <nav aria-label="Catalogue navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="page-link" href="catalogue.html">1</a></li>
      <li class="page-item"><a class="page-link" href="catalogue2.html">2</a></li>
      <li class="page-item"><a class="page-link" href="catalogue3.html">3</a></li>
    </ul>
  </nav>

  <script>
    // Initialiser le stock si vide
    document.addEventListener("DOMContentLoaded", () => {
      let stock = loadStock();
      if (Object.keys(stock).length === 0) {
        stock = { 1: 5, 2: 3, 3: 7 }; // stock initial
        saveStock(stock);
      }
      updateCartUI();
      updateStockUI();
    });
  </script>
</body>
</html>
